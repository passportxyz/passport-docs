---
title: Attestation Protocols
description: Query Individual Verification attestations via Sign Protocol and Verax
---

import { Callout } from 'nextra/components'

# Attestation Protocols

Individual Verifications issue attestations through multiple protocols, allowing you to query and validate verification status in different ways. This page covers how to read attestations from Sign Protocol and Verax.

## Sign Protocol

Individual Verifications issue a Sign Protocol attestation for every SBT minted. You can query these attestations to verify a user's identity status.

### Query Attestations

Use the Sign Protocol API to query attestations. Filter by the schema ID and attester address to get attestations issued by Individual Verifications.

```bash
curl 'https://mainnet-rpc.sign.global/api/index/attestations?schemaId=onchain_evm_10_0x1&attester=0xB1f50c6C34C72346b1229e5C80587D0D659556Fd'
```

**Query Parameters:**

| Parameter | Value | Description |
|-----------|-------|-------------|
| `schemaId` | `onchain_evm_10_0x1` | Sign Protocol schema for Individual Verifications |
| `attester` | `0xB1f50c6C34C72346b1229e5C80587D0D659556Fd` | Individual Verifications attester address |

To query for a specific recipient, add the `recipient` parameter with the user's address.

### Response Format

```json
{
  "data": {
    "page": 1,
    "rows": [
      {
        "attestTimestamp": "1714819085000",
        "attestationId": "0x65",
        "attester": "0xB1f50c6C34C72346b1229e5C80587D0D659556Fd",
        "chainId": "10",
        "data": "0x000000...",
        "recipients": ["0xEdedf460A77928f59c27f37F73D4853FD8a07984"],
        "revoked": false,
        "schema": {
          "name": "HolonymV3",
          "description": "Holonym V3 SBT"
        }
      }
    ],
    "size": 100,
    "total": 195
  }
}
```

### Validate Attestation

When validating an attestation, verify the circuit ID, action ID, and issuer match your expected values.

**Reference Values:**

| Field | Description | Where to Find |
|-------|-------------|---------------|
| Circuit ID | Identifies the verification type (KYC, phone, etc.) | [Constants file](https://github.com/holonym-foundation/holonym-api/blob/main/src/constants/misc.js#L6) |
| Action ID | Default is `123456789` | [Custom Action IDs](/building-with-passport/individual-verifications/major-concepts/action-ids) |
| Issuer | Identifies the credential issuer | [Constants file](https://github.com/holonym-foundation/holonym-api/blob/main/src/constants/misc.js#L6) |

```javascript
const { ethers } = require("ethers");

// Extract attestation data from API response (data.rows[0].data)
const data = "0x000000..."; // attestation data hex string

const decoded = ethers.utils.defaultAbiCoder.decode(
  ["string", "uint256[]"],
  data
);

const circuitId = decoded[0];
const publicValues = decoded[1];
const actionId = publicValues[2];
const issuer = publicValues[4];

// Validate circuit ID matches KYC
if (circuitId !== "0x729d660e1c02e4e419745e617d643f897a538673ccf1051e093bbfa58b0a120b") {
  throw new Error("Invalid circuit ID");
}

// Validate action ID
if (actionId.toString() !== "123456789") {
  throw new Error("Invalid action ID");
}

// Validate issuer matches KYC issuer
if (issuer.toHexString() !== "0x03fae82f38bf01d9799d57fdda64fad4ac44e4c2c2f16c5bf8e1873d0a3e1993") {
  throw new Error("Invalid issuer");
}
```

---

## Verax

Individual Verifications also issue Verax attestations for every SBT minted. Verax provides an alternative attestation registry on Linea.

### Installation

```bash
npm install @verax-attestation-registry/verax-sdk
```

### Query and Validate Attestations

```javascript
const { VeraxSdk } = require('@verax-attestation-registry/verax-sdk');

const userAddress = '0xdcA2e9AE8423D7B0F94D7F9FC09E698a45F3c851';

// Initialize Verax SDK
const veraxSdk = new VeraxSdk(
  VeraxSdk.DEFAULT_LINEA_MAINNET,
  userAddress
);

// Query attestations
const attestations = await veraxSdk.attestation.findBy(
  undefined,
  undefined,
  {
    // Individual Verifications schema ID on Verax
    schemaId: "0x1c14fd320660a59a50eb1f795116193a59c26f2463c0705b79d8cb97aa9f419b",
    // Individual Verifications attester
    attester: "0xB1f50c6C34C72346b1229e5C80587D0D659556Fd",
    // Address to check
    subject: userAddress
  }
);

if (attestations.length === 0) {
  console.log("No attestation found");
  return;
}

// Validate the attestation
const { circuitId, publicValues, revoked } = attestations[0].decodedPayload[0];

if (revoked) {
  throw new Error("Attestation has been revoked");
}

const actionId = publicValues[2].toString();
const issuer = publicValues[4];

// Validate circuit ID matches KYC
if (circuitId !== "0x729d660e1c02e4e419745e617d643f897a538673ccf1051e093bbfa58b0a120b") {
  throw new Error("Invalid circuit ID");
}

// Validate action ID
if (actionId !== "123456789") {
  throw new Error("Invalid action ID");
}

// Validate issuer
if (issuer !== BigInt("0x03fae82f38bf01d9799d57fdda64fad4ac44e4c2c2f16c5bf8e1873d0a3e1993")) {
  throw new Error("Invalid issuer");
}

console.log("Attestation is valid");
```

---

## Comparison

| Feature | Sign Protocol | Verax |
|---------|---------------|-------|
| Primary Chain | Optimism | Linea |
| Query Method | REST API | SDK |
| Schema ID | `onchain_evm_10_0x1` | `0x1c14fd...` |

<Callout type="tip">
For most use cases, we recommend using the [Individual Verifications API](/building-with-passport/individual-verifications/api-reference) directly rather than querying attestation protocols. The API provides a simpler interface and handles validation automatically.
</Callout>

## Additional Resources

- [Sign Protocol Documentation](https://docs.sign.global/)
- [Verax Documentation](https://docs.ver.ax/)
- [Circuit IDs and Issuer Constants](https://github.com/holonym-foundation/holonym-api/blob/main/src/constants/misc.js#L6)
