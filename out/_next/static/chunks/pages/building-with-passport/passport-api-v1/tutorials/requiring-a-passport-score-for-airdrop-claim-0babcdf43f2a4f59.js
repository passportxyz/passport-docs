(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5016],{2819:function(s,i,h){"use strict";h.r(i),h.d(i,{useTOC:function(){return useTOC}});var e=h(4175),n=h(4859),l=h(601),r=h(2816),a=h(678),t=h(2502),d=h(1527);function ownKeys(s,i){var h=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),h.push.apply(h,e)}return h}function _objectSpread(s){for(var i=1;i<arguments.length;i++){var h=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(h),!0).forEach(function(i){(0,e.Z)(s,i,h[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(h)):ownKeys(Object(h)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(h,i))})}return s}function useTOC(s){return[{value:"Prerequisites",id:"prerequisites",depth:3},{value:"App Overview",id:"app-overview",depth:3},{value:"1. Fetch and sign a message and nonce",id:"1-fetch-and-sign-a-message-and-nonce",depth:3},{value:"2. Submit a user’s address for scoring",id:"2-submit-a-users-address-for-scoring",depth:3},{value:"3. Fetch a user’s Passport score",id:"3-fetch-a-users-passport-score",depth:3},{value:"4. Ensure the user’s score is above the threshold",id:"4-ensure-the-users-score-is-above-the-threshold",depth:3},{value:"5. Allow the user to claim their airdrop",id:"5-allow-the-user-to-claim-their-airdrop",depth:3},{value:"Conclusion",id:"conclusion",depth:4}]}function MDXLayout(s){var i=s.toc,h=void 0===i?useTOC(s):i,e=_objectSpread(_objectSpread({a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul"},(0,r.a)()),s.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.h1,{children:"Requiring a Passport score for airdrop claim"}),"\n",(0,d.jsx)(a.U,{type:"warning",children:(0,d.jsxs)(e.p,{children:[(0,d.jsx)(e.strong,{children:"Please note:"}),(0,d.jsx)("br",{}),"In November 2024, we soft-launched ",(0,d.jsx)(e.a,{href:"../passport-api-v2/overview",children:"Passport API v2"}),".",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"We have not announced any deprecation or retirement timelines for v1 yet, but do strongly recommend using v2 moving forward.",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"We are actively working on updating the v1 tutorials to use v2.",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"You can learn more about the differences between v1 and v2 via our ",(0,d.jsx)(e.a,{href:"migrate",children:"migration guide"}),"."]})}),"\n",(0,d.jsx)(e.p,{children:"Airdrops are a prevalent token distribution method, attracting ‘airdrop farmers’ who generate numerous accounts to amass tokens. This guide demonstrates using Passport scores to shield your airdrop from such harmful practices."}),"\n",(0,d.jsx)(e.p,{children:"This guide will cover the following topics:"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"Fetching Passport scores from the Passport API"}),"\n",(0,d.jsx)(e.li,{children:"Using Passport scores to regulate access to an airdrop"}),"\n"]}),"\n",(0,d.jsxs)(e.p,{children:["You can find the code from this tutorial in this ",(0,d.jsx)(e.a,{href:"https://github.com/passportxyz/passport-scorer/tree/main/examples/airdrop",children:"GitHub repo"}),":"]}),"\n",(0,d.jsxs)(e.p,{children:["You can also check out a ",(0,d.jsx)(e.a,{href:"https://airdrop-five.vercel.app/",children:"working version of this app"}),"."]}),"\n",(0,d.jsx)(e.h3,{id:h[0].id,children:h[0].value}),"\n",(0,d.jsx)(e.p,{children:"Before we delve into this, it’s important to note that there are a few preliminary steps you need to complete. Please ensure that these prerequisites are met before proceeding with the guide."}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"You have created a Passport Scorer and received a Scorer ID"}),"\n",(0,d.jsx)(e.li,{children:"You have an API key"}),"\n"]}),"\n",(0,d.jsxs)(e.p,{children:["If you haven’t completed the preliminary steps above please refer to our ",(0,d.jsx)(e.a,{href:"../getting-access",children:"getting access guide"})," first. Once you’re done with that, return here and continue with this walkthrough."]}),"\n",(0,d.jsx)(e.h3,{id:h[1].id,children:h[1].value}),"\n",(0,d.jsxs)(e.p,{children:["We will be rebuilding many of the components and API endpoints of the ",(0,d.jsx)(e.a,{href:"https://github.com/passportxyz/passport-scorer/tree/main/examples/airdrop",children:"airdrop example app"}),"."]}),"\n",(0,d.jsx)(e.p,{children:"Below is a diagram showing a high-level overview of how the app functions and interacts with the Passport API."}),"\n",(0,d.jsx)(e.p,{children:"![](public/Passport Airdrop.png)"}),"\n",(0,d.jsx)(e.p,{children:"The basic flow is as follows:"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"Define eligibility criteria for the airdrop, such as app interaction, Discord membership, or holding a specific token quantity. This serves as the main criteria for receiving the airdrop while a Passport score serves as an additional security measure."}),"\n",(0,d.jsx)(e.li,{children:"Retrieve the user’s Passport score."}),"\n",(0,d.jsx)(e.li,{children:"Confirm the score exceeds a threshold indicative of legitimate user behavior."}),"\n",(0,d.jsx)(e.li,{children:"Add the user’s address into the airdrop database."}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"Now that we understand what we will be building let’s jump into some code."}),"\n",(0,d.jsxs)(e.p,{children:["We will be building everything within the context of a ",(0,d.jsx)(e.a,{href:"https://nextjs.org/",children:"Next.js"})," app. We will also use ",(0,d.jsx)(e.a,{href:"https://www.rainbowkit.com/docs/installation",children:"RainbowKit"})," and ",(0,d.jsx)(e.a,{href:"https://wagmi.sh/",children:"wagmi"})," for wallet connection and blockchain helper methods."]}),"\n",(0,d.jsx)(e.p,{children:"You can run one of the following commands to initialize a Next.js app with RainbowKit and wagmi preinstalled."}),"\n",(0,d.jsx)(e.pre,{icon:t.Fx,tabIndex:"0","data-language":"sh","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npm"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" init"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @rainbow-me/rainbowkit@latest"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# or"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"pnpm"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @rainbow-me/rainbowkit@latest"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# or"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"yarn"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" @rainbow-me/rainbowkit"})]})]})}),"\n",(0,d.jsxs)(e.p,{children:["Create a ",(0,d.jsx)(e.code,{children:".env.local"})," file at the root of your directory and add your API key and Scorer ID to it. Make sure the env variable for your Scorer ID is ",(0,d.jsx)(e.code,{children:"NEXT_PUBLIC_SCORER_ID"}),"; this will ensure the variable is accessible to the frontend."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"# .env.local"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"SCORER_API_KEY"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"YOUR API KEY"'})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_SCORER_ID"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"119"})]})]})}),"\n",(0,d.jsx)(e.p,{children:"Now that we have our app scaffolded let’s start building out the basic front-end and backend components we will need."}),"\n",(0,d.jsx)(e.h3,{id:h[2].id,children:h[2].value}),"\n",(0,d.jsx)(e.p,{children:"Passport allows a message and nonce to be submitted when scoring a Passport. This allows us to request permission from the user and send their approval along with our score request."}),"\n",(0,d.jsxs)(e.p,{children:["We set up an API endpoint that our front-end can make requests to. We do this so we can keep our ",(0,d.jsx)(e.code,{children:"SCORER_API_KEY"})," from being exposed."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// pages/api/scorer-message.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" axios"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" require"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"axios"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" default"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" handler"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"req"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"res"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // This endpoint will call /registry/signing-message and return the message that needs to be signed by the user"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  //  as well as the nonce that should be submitted to /registry/submit-passport"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" messageAndNonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" fetchMessageAndNonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"();"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  res."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"status"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"200"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"json"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(messageAndNonce);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" fetchMessageAndNonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"() {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" axiosSigningMessageConfig"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    headers: {"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "X-API-KEY"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": process.env."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"SCORER_API_KEY"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      Accept: "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "Content-Type"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  };"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"get"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "https://api.scorer.gitcoin.co/registry/signing-message"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    axiosSigningMessageConfig"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  );"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" data;"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsx)(e.p,{children:"Next our front-end can make a request to the above endpoint to fetch the message and nonce."}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// components/AirDrop.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Fetch a message and nonce for the user to sign"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// This will run on the frontend whenever a user requests to be added to the airdrop."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" scorerMessageResponse"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"get"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"/api/scorer-message"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"if"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (scorerMessageResponse.status "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"!=="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 200"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  console."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"error"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"failed to fetch scorer message"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Set the nonce on state, as we will need to use this later."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"setNonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(scorerMessageResponse.data.nonce);"})]})]})}),"\n",(0,d.jsxs)(e.p,{children:["We now have the necessary data for the user to sign. We can leverage wagmi’s ",(0,d.jsx)(e.code,{children:"useSignMessage"})," method to prompt the user to sign."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// components/AirDrop.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { useSignMessage } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "wagmi"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"signMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" useSignMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" onSuccess"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"variables"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Verify the message was signed properly."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" verifyMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(variables.message, data);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Function continues in the next steps..."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsxs)(e.p,{children:["Finally, we call the ",(0,d.jsx)(e.code,{children:"signMessage"})," function when a user requests to be added to the airdrop."]}),"\n",(0,d.jsx)(e.pre,{icon:t.Dr,tabIndex:"0","data-language":"jsx","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// components/AirDrop.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"button"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" onClick"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{() "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" signMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(scorerMessageResponse.data.message)}>"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  Add to airdrop"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"</"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"button"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})}),"\n",(0,d.jsx)(e.h3,{id:h[3].id,children:h[3].value}),"\n",(0,d.jsx)(e.p,{children:"Before we can fetch a user’s Passport score we must submit their address for scoring."}),"\n",(0,d.jsxs)(e.p,{children:["We again set up an API endpoint that our front end can make requests to. We do this so we can keep our ",(0,d.jsx)(e.code,{children:"SCORER_API_KEY"})," from being exposed."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// pages/api/submit-passport.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" axios"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" require"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"axios"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" default"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" handler"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"req"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"res"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // The frontend sends in which address we should score and what Passport Scorer"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  //  we should use as well as a signature and nonce."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"scorerId"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"signature"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"nonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" req.body;"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // This is a good place to do some initial eligiblity checks. "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // If the user does not meet the minimum criteria we can short circuit the process"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // of checking their Passport score."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"  meetsMinimumEligibility"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(address)"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" submitPassport"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(address, scorerId, signature, nonce);"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  res."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"status"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"200"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"json"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(data);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" meetsMinimumEligibility"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Check that this address has interacted with your protocol within the airdrop window."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // OR"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Check that the address holds a specific NFT or token"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Etc..."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" submitPassport"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"scorerId"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"signature"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"nonce"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" submitPassportConfig"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    headers: {"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "X-API-KEY"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": process.env."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"SCORER_API_KEY"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      Accept: "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "Content-Type"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  };"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // This is the body that will be sent to the Passport API for scoring"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" submitPassportData"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    address: address,"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    scorer_id: scorerId"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    signature: signature,"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    nonce: nonce"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  };"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"post"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "https://api.scorer.gitcoin.co/registry/submit-passport"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    submitPassportData,"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    submitPassportConfig"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  );"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // The returned data will look like this"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // {"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "address": "{address}",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "score": null,'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "status": "PROCESSING",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "last_score_timestamp": "2023-02-03T12:08:21.735838+00:00",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "evidence": null,'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "error": null'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // }"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Which we will return to the front end. The front end will then poll"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // for the users score while the status is PROCESSING"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" data;"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsxs)(e.p,{children:["Now that we have a secure endpoint set up, we can make a request to it from our front-end. We do this right after we verify the signed message in the same ",(0,d.jsx)(e.code,{children:"onSuccess"})," function from step 1."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// components/AirDrop.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { useSignMessage } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "wagmi"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"signMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" useSignMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" onSuccess"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"variables"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // Verify signature when sign message succeeds"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" verifyMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(variables.message, data);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" submitResponse"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"post"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"/api/submit-passport"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      address: address, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Required: The user's address you'd like to score."})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      community: process.env."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_SCORER_ID"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Required: get this from one of your scorers in the Scorer API dashboard https://developer.passport.xyz/"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      signature: data, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Optional: The signature of the message returned in Step #1"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      nonce: nonce, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Optional: The nonce returned in Step #1"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    });"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    console."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"submitResponse: "'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", submitResponse);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" }"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsx)(e.p,{children:"We are now ready to fetch the user’s Passport score."}),"\n",(0,d.jsx)(e.h3,{id:h[4].id,children:h[4].value}),"\n",(0,d.jsxs)(e.p,{children:["Now that we’ve submitted the user’s Passport for scoring we can poll for their score. Once again we will create an endpoint for our front-end to query to avoid exposing our ",(0,d.jsx)(e.code,{children:"SCORER_API_KEY"}),"."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// pages/api/airdrop/add/[scorer_id]/[address].js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" axios"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" require"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"axios"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" default"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" handler"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"req"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"res"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"scorer_id"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"scorerId"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" req.query;"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" fetchScore"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(address, scorerId);"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  res."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"status"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"200"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"json"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(data);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" fetchScore"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"scorerId"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" getScoreConfig"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    headers: {"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "X-API-KEY"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": process.env."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"SCORER_API_KEY"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      Accept: "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'      "Content-Type"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"application/json"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  };"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"get"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"    `https://api.scorer.gitcoin.co/registry/score/${"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"scorerId"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}/${"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}`"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    getScoreConfig"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  );"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Again the returned data will look like this."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // {"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "address": "{address}",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "score": "1.5272",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "status": "DONE",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "last_score_timestamp": "2023-02-03T12:08:21.735838+00:00",'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "evidence": null,'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  //  "error": null'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // }"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  // However, this time the status should be "DONE" and the score should be present.'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  // If the status is still "PROCESSING" the frontend should sleep for a few seconds'})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // and retry the request."})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" data;"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsxs)(e.p,{children:["We now have a secure endpoint for our front-end to query. We make the request to it inside the same ",(0,d.jsx)(e.code,{children:"onSuccess"})," method."]}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"signMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" useSignMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" onSuccess"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"data"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"variables"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // Verify signature when sign message succeeds"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" verifyMessage"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(variables.message, data);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" submitResponse"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"post"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"/api/submit-passport"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      address: address, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Required: The user's address you'd like to score."})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      community: process.env."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_SCORER_ID"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Required: get this from one of your Scorers in the Passport API dashboard https://developer.passport.xyz/"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      signature: data, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Optional: The signature of the message returned in Step #1"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      nonce: nonce, "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Optional: The nonce returned in Step #1"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    });"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    console."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"submitResponse: "'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", submitResponse);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    "})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" scoreResponse"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" axios."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"get"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"        `/api/airdrop/add/${"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"process"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"env"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NEXT_PUBLIC_SCORER_ID"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}/${"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"}`"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"      );"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    console."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"scoreResponse: "'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", scoreResponse);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // Make sure to check the status"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    if"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (scoreResponse.data.status "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"==="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "ERROR"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"      // Handle the error and return."})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"      return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    } "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"else"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" if"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (scoreResponse.data.status "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"==="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "PROCESSING"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"      // Sleep a few seconds and make the request again."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    }"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    "})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // If we make it here the score has been successfully retrieved and we are"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // ready to use it."})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsx)(e.p,{children:"We’ve completed the first three steps and have a user’s Passport score. We now need to use this score to determine if they are an airdrop farmer or a legitimate user."}),"\n",(0,d.jsx)(e.h3,{id:h[5].id,children:h[5].value}),"\n",(0,d.jsx)(e.p,{children:"We want to ensure that our user’s Unique Humanity score is greater than 20. This gives us the best chance of filtering out airdrop farmers while still allowing legitimate users to claim their tokens."}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" isUserEligible"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"score"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  if"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" (score "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 20"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" true"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" false"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,d.jsx)(e.p,{children:"Leveraging Passport makes this process straightforward. We simply verify that the user’s score surpasses the threshold of 20, if it does, they are permitted to claim the airdrop."}),"\n",(0,d.jsx)(e.h3,{id:h[6].id,children:h[6].value}),"\n",(0,d.jsx)(e.p,{children:"This can be handled in a number of ways."}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"We can add the user’s address and score to a database, then after we’ve collected all the addresses, we can calculate the Merkle root which we set in our airdrop distribution contract."}),"\n",(0,d.jsxs)(e.li,{children:["We can allow the user to directly claim their tokens once we have verified they have met the minimum criteria and their Passport score is above our threshold. This would require us to distribute a unique signature for each user that allows them to call the ",(0,d.jsx)(e.code,{children:"claim"})," function on our airdrop contract."]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"We will be using the first method."}),"\n",(0,d.jsx)(e.p,{children:"All we need to do now is store the user’s address and score in our database. We can use whatever database we want, SQLite, Postgres, MongoDB, etc."}),"\n",(0,d.jsx)(e.p,{children:"Once we have our list of addresses that have met the minimum criteria for eligibility, we calculate the Merkle root of that list."}),"\n",(0,d.jsx)(e.pre,{tabIndex:"0","data-language":"javascript","data-word-wrap":"","data-copy":"",children:(0,d.jsxs)(e.code,{children:[(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// pages/api/admin/merkle.js"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" merkle"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" require"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"merkle"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" CryptoJS"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" require"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"crypto-js"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" db "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "../../../db"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"export"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" default"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" async"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" handler"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"req"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"res"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" rows"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" db."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"select"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"*"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"from"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"airdrop_addresses"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" addresses"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" rows."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"map"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"r"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" r.address);"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" merkleRoot"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" calculateMerkleRoot"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(addresses);"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  res."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"status"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"200"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"json"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(merkleRoot);"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"function"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" calculateMerkleRoot"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"addresses"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Hash the addresses using the SHA-256 algorithm"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" hashedAddresses"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" addresses."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"map"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"address"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") "}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"=>"})]}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    CryptoJS."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"SHA256"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(address)."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"toString"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(CryptoJS.enc.Hex)"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  );"})}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Create a Merkle tree with the hashed addresses"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  const"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" tree"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" merkle"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"sha256"'}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"sync"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(hashedAddresses);"})]}),"\n",(0,d.jsx)(e.span,{children:" "}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Return the Merkle root"})}),"\n",(0,d.jsxs)(e.span,{children:[(0,d.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  return"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" tree."}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"root"}),(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"();"})]}),"\n",(0,d.jsx)(e.span,{children:(0,d.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,d.jsx)(e.span,{children:" "})]})}),"\n",(0,d.jsx)(e.p,{children:"Now we can set this root on our Merkle Distributor smart contract and eligible users can claim their token distributions."}),"\n",(0,d.jsx)(e.h4,{id:h[7].id,children:h[7].value}),"\n",(0,d.jsx)(e.p,{children:"In this guide we’ve done the following:"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsx)(e.li,{children:"Submitted a user’s address to the Passport API for scoring"}),"\n",(0,d.jsx)(e.li,{children:"Fetched their Passport score"}),"\n",(0,d.jsx)(e.li,{children:"Used their score to determine if they are eligible for the airdrop"}),"\n",(0,d.jsx)(e.li,{children:"Stored this information for later use in a Merkle distributor or other airdrop distribution method"}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"Adding Passport protection to your airdrop serves as a last line of defense against airdrop farmers and helps real users receive the most benefit while punishing bad actors."})]})}i.default=(0,n.c)(MDXLayout,"/building-with-passport/passport-api-v1/tutorials/requiring-a-passport-score-for-airdrop-claim",{filePath:"pages/building-with-passport/passport-api-v1/tutorials/requiring-a-passport-score-for-airdrop-claim.mdx",timestamp:1733181946e3,pageMap:l.v,frontMatter:{title:"Requiring a Passport score to qualify for airdrops",description:"Explore this detailed guide, demonstrating how you can effectively utilize Passport scores to guard against Sybil attacks on an airdrop."},title:"Requiring a Passport score to qualify for airdrops"},"undefined"==typeof RemoteContent?useTOC:RemoteContent.useTOC)},416:function(s,i,h){(window.__NEXT_P=window.__NEXT_P||[]).push(["/building-with-passport/passport-api-v1/tutorials/requiring-a-passport-score-for-airdrop-claim",function(){return h(2819)}])},678:function(s,i,h){"use strict";h.d(i,{U:function(){return Callout}});var e=h(1527),n=h(4814),l=h(2502);let r={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,e.jsx)(l.AV,{className:"_mt-1"}),warning:"⚠️"},a={default:(0,n.Z)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,n.Z)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,n.Z)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,n.Z)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function Callout({children:s,type:i="default",emoji:h=r[i]}){return(0,e.jsxs)("div",{className:(0,n.Z)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",a[i]),children:[(0,e.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:h}),(0,e.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:s})]})}}},function(s){s.O(0,[4859,601,9774,2888,179],function(){return s(s.s=416)}),_N_E=s.O()}]);