/*
 * CSS Override for Nextra 4 + Tailwind v4 rotation bug
 *
 * The .x:ltr:rotate-180 class incorrectly applies rotate: 180deg to ALL
 * descendants of [dir=ltr] elements, instead of just the target element.
 * This resets the rotation for all elements except where explicitly needed.
 */

/* Reset rotation for all elements - the overly broad selector applies it everywhere */
*:where(:dir(ltr), [dir=ltr], [dir=ltr] *) {
  rotate: initial !important;
}

/* Re-apply rotation only where Nextra actually needs it (pagination arrows, etc.) */
/* These are intentional 180deg rotations for RTL/LTR icon flipping */
.x\:ltr\:rotate-180:where(:dir(ltr), [dir=ltr], [dir=ltr] *) {
  rotate: 180deg !important;
}

.x\:rtl\:rotate-180:where(:dir(rtl), [dir=rtl], [dir=rtl] *) {
  rotate: 180deg !important;
}

/* Sidebar expand icons */
.x\:\*\:first\:rotate-180 > *:first-child {
  rotate: 180deg !important;
}

/* Arrow rotations for navigation */
.x\:\*\:ltr\:rotate-90:where(:dir(ltr), [dir=ltr], [dir=ltr] *) > * {
  rotate: 90deg !important;
}

.x\:\*\:rtl\:-rotate-180:where(:dir(rtl), [dir=rtl], [dir=rtl] *) > * {
  rotate: calc(180deg * -1) !important;
}

.x\:\*\:rtl\:-rotate-270:where(:dir(rtl), [dir=rtl], [dir=rtl] *) > * {
  rotate: calc(270deg * -1) !important;
}

/* Summary/details expand arrow */
.x\:\[\[data-expanded\]\>summary\:first-child\>\&\]\:rotate-90 {
  rotate: 90deg !important;
}

/*
 * Tailwind v4 bug: responsive x:*:hidden utility classes don't apply.
 * These media queries manually enforce the breakpoint behavior that
 * Nextra's classes (x:md:hidden, x:max-md:hidden, x:max-xl:hidden) expect.
 */

/* Hide desktop sidebar on mobile — x:max-md:hidden not applying */
@media (max-width: 767.98px) {
  .nextra-sidebar {
    display: none !important;
  }
}

/* Hide TOC on smaller screens — x:max-xl:hidden not applying */
@media (max-width: 1279.98px) {
  .nextra-toc {
    display: none !important;
  }
}

/* Hide nav links, search, and icon links on mobile — logo + hamburger only */
@media (max-width: 767.98px) {
  nav .nextra-scrollbar,
  nav .nextra-search,
  nav a[href*="github.com"],
  nav a[href*="t.me/"] {
    display: none !important;
  }
}

/* Hide hamburger on desktop — x:md:hidden not applying */
@media (min-width: 768px) {
  .nextra-hamburger {
    display: none !important;
  }
}

